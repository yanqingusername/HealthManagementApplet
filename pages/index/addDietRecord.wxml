<view class="page">
  <view class="page flex-col">
    <view class="bd1 flex-col">
      <view class="block3 flex-row">
        <text class="word2">{{meal_type}}餐时间</text>
        <view class="layer1 flex-col" bindtap="start_time_show">
          <picker mode="time" value="{{hoursminute}}" start="00:00" end="24:00" bindchange="bindTimeChange" >
            <view >
              当前选择: {{hoursminute}}
            </view>
          </picker>
          <!-- <view class="layer2 flex-row">
            <text wx:if="{{time_chosen==false}}" class="word3">请选择{{meal_type}}餐时间</text>
            <text wx:if="{{time_chosen==true}}" class="word3">{{startTime}}</text>
            <image class="label2" referrerpolicy="no-referrer" src="/image/icons/right.png" mode="aspectFill"/>
          </view> -->
        </view>
      </view>
      <view class="block4 flex-col"></view>
      <view style="display:flex;">
        <text class="txt1">食物清单</text>
        <view wx:if="{{img_arr.length!=0&&img_arr.length<9}}" class="block9 flex-col">
          <view bindtap="upimg" class="wrap1 flex-row">
            <image class="label3" referrerpolicy="no-referrer" src="/image/icons/camera.png" />
            <text class="word4">拍照记录</text>
          </view>
        </view>
      </view>
      <view wx:if="{{img_arr.length==0}}" class="block5 flex-col">
        <view bindtap="upimg" class="wrap1 flex-row">
          <image class="label3" referrerpolicy="no-referrer" src="/image/icons/camera.png" />
          <text class="word4">拍照记录</text>
        </view>
      </view>
      <view class="P5 app_flex" style="height: auto;">
        <block>
          <view class="img_box">
            <block wx:if="{{img_arr.length!=0}}">
              <view class="img_item" wx:for="{{img_arr}}" wx:for-item="item">
                <image bindtap="previewImg" data-src="{{item}}" class="img_item_i" data-index='{{index}}' src="{{item}}" mode="aspectFill"></image>
                <block>
                  <image bindtap="delImg" data-index="{{index}}" src="/image/icons/deleteTest.png" class="closeImv"></image>
                </block>
              </view>
            </block>
          </view>
        </block>
      </view>
      <!-- <text class="word5">如果忘记拍照可以文字记录哦～</text> -->

      <view class="new_center">
        <view class="new_center_1">如果忘记拍照可以文字记录哦～</view>
        <view class="new_center_2" bind:tap="bindImg">拍照说明</view>
      </view>

      <view wx:for="{{info.details}}" wx:key="key" class="block6 flex-row">
        <view class="group1 flex-col" style="width:240rpx;">
          <input class="word6" style="width:200rpx !important;" placeholder="请填写食物名称" id="food-{{index}}" bindinput="setFood" value="{{item.meal_content}}"></input>
        </view>
        <view class="group2 flex-col" style="width:210rpx;">
          <input class="txt2" style="width:170rpx !important;" type="number" placeholder="请填写摄入量" id="amount-{{index}}" bindinput="setAmount" value="{{item.intake_amount}}"></input>
        </view>
        <view class="group2 flex-col" catch:tap="bindCampany" data-id="company-{{index}}" style="width:150rpx;flex-direction: row;justify-content: space-between;display: flex;align-items: center;padding: 0rpx 10rpx 0rpx 16rpx;">
          <picker bindchange="bindSelectrRemark" range="{{remarkList}}" style="width:100%;">
            <view style="display: flex;align-items: center;width:100%;justify-content: space-between;">
              <input class="txt2" disabled="{{true}}" style="width:80rpx !important;" id="company-{{index}}" placeholder="单位" bindinput="setCompany" value="{{item.intake_company}}"></input>
              <image class="wrap2 flex-col" style="margin-top:0rpx;" src="/image/icons/right.png"></image>
            </view>
          </picker> 
        </view>
        <view class="group2 flex-col" style="background: #FFFFFF;padding-left: 0rpx;width:50rpx;flex-direction: row;justify-content: center;display: flex;align-items: center;" bindtap="delFood" data-index="{{index}}" >
           <image src="/image/icons/deleteTest.png" class="closeView"></image>
        </view>
      </view>
      <view class="block7 flex-col" bindtap="addFood">
        <view class="mod1 flex-row">
          <image class="wrap2 flex-col" src="/image/icons/add.png"></image>
          <text class="info1">添加食物</text>
        </view>
      </view>
      <view class="block8 flex-col">
        <button class="bd2 flex-col" bindtap="submit"><text class="word7">保存</text></button>
      </view>
    </view>
  </view>
</view>
<!-- <timePicker pickerShow="{{startIsPickerShow}}" id="picker" wx:if="{{startIsPickerRender}}" bind:hidePicker="start_time_hide" bind:setPickerTime="set_start_time" config="{{pickerConfig}}"></timePicker> -->

<!-- 弹框 -->
<dialog-cus showDialog='{{showDialog}}' datas="{{dialogData}}" catch:dialogCancel="dialogCancel" catch:dialogSure="dialogSure"/>
